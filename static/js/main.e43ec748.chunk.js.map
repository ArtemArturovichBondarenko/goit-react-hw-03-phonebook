{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/image-api.js","components/App.js","index.js","components/Searchbar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Overlay","Modal","ImageGallery","Button","App","SearchBar","state","query","handleChange","e","_this","setState","target","value","handleSubmite","preventDefault","props","onSubmit","this","react_default","a","createElement","className","styles","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","_ref","data","onClick","src","webformatURL","id","alt","tags","ImageGalleryItem_image","images","Fragment","length","map","image","components_ImageGalleryItem_ImageGalleryItem","key","onLoadMore","react_loader_spinner_default","color","height","width","React","handleCloseModal","code","window","addEventListener","removeEventListener","_this$props","children","fetchImages","arguments","undefined","page","axios","get","concat","isLOading","isModal","idImage","_this$state","scroll","document","documentElement","scrollHeight","imageAPI","then","Object","toConsumableArray","hits","catch","error","console","finally","scrollTo","top","behavior","handleOnSubmit","loadMore","getLargeURL","_this$state2","item","find","_ref2","Number","largeImageURL","openModal","closeModal","prevProps","prevState","_this$state3","_this$state4","Searchbar_SearchBar","components_ImageGallery_ImageGallery","Loader_App","components_Button_Button","Modal_Modal","ReactDOM","render","App_App","querySelector"],"mappings":"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","file":"static/js/main.e43ec748.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__pyNXF\",\"Modal\":\"Modal_Modal__I9_B0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1m-iC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__34aoG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2M7-c\"};","import React, { Component } from 'react';\r\nimport PropTypes, { func } from 'prop-types';\r\nimport styles from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmite = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmite}>\r\n          <button type=\"submit\" className={styles.SearchForm_button}>\r\n            <span className={styles.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\n{\r\n  /* <header className=\"Searchbar\">\r\n  <form className=\"SearchForm\">\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      autocomplete=\"off\"\r\n      autofocus\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header> */\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ data, onClick }) => (\r\n  <li onClick={onClick} className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={data.webformatURL}\r\n      id={data.id}\r\n      alt={data.tags}\r\n      className={styles.ImageGalleryItem_image}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number,\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n  <>\r\n    <ul className={styles.ImageGallery}>\r\n      {images.length > 0 &&\r\n        images.map(image => (\r\n          <ImageGalleryItem data={image} key={image.id} onClick={onClick} />\r\n        ))}\r\n    </ul>\r\n  </>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button className={styles.Button} onClick={onLoadMore}>\r\n    Load More\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return <Loader type=\"TailSpin\" color={'#00BFFF'} height={80} width={80} />;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  state = {};\r\n\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    children: PropTypes.element.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleCloseModal);\r\n  }\r\n\r\n  componentWillMount() {\r\n    window.removeEventListener('keydown', this.handleCloseModal);\r\n  }\r\n\r\n  handleCloseModal = e => {\r\n    const { onClick } = this.props;\r\n    if (e.code === 'Escape') {\r\n      onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { onClick, children } = this.props;\r\n\r\n    return (\r\n      <div className={styles.Overlay} onClick={onClick}>\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/?q=';\r\nconst KEY = '15807739-09fa85d701810a3ee4e99cc27';\r\nconst REQUEST_PARAMS = '&image_type=photo&orientation=horizontal&per_page=12';\r\n\r\nexport const fetchImages = (query = '', page = 1) =>\r\n  axios.get(`${BASE_URL}${query}&page=${page}&key=${KEY}${REQUEST_PARAMS}`);\r\n","import React, { Component } from 'react';\nimport SearchBar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\nimport styles from './App.module.css';\nimport * as imageAPI from '../services/image-api';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    query: '',\n    page: 1,\n    isLOading: false,\n    isModal: false,\n    idImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.page !== page || prevState.query !== query) {\n      if (query !== '') {\n        this.fetchImages();\n      }\n    }\n  }\n\n  fetchImages = () => {\n    const { images, query, page } = this.state;\n    const scroll = document.documentElement.scrollHeight;\n    const scrollHeight = page > 1 ? scroll : 0;\n    this.setState({ isLOading: true });\n    imageAPI\n      .fetchImages(query, page)\n      .then(({ data }) => {\n        this.setState({ images: [...images, ...data.hits] });\n      })\n      .catch(error => console.error(error))\n      .finally(() => {\n        this.setState({ isLOading: false });\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleOnSubmit = query => {\n    this.setState({ images: [], query, page: 1 });\n  };\n\n  loadMore = () => {\n    const { page } = this.state;\n\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  getLargeURL = () => {\n    const { images, idImage, isModal } = this.state;\n\n    const item = images.find(({ id }) => id === Number(idImage));\n    return isModal ? item.largeImageURL : '';\n  };\n\n  openModal = e => {\n    this.setState({ isModal: true, idImage: e.target.id });\n  };\n\n  closeModal = () => {\n    this.setState({ isModal: false });\n  };\n\n  render() {\n    const { images, isLOading, isModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.handleOnSubmit} />\n        <ImageGallery images={images} onClick={this.openModal} />\n        {isLOading && <Loader />}\n        {images.length > 0 && <Button onLoadMore={this.loadMore} />}\n        {isModal && (\n          <Modal onClick={this.closeModal}>\n            <img src={this.getLargeURL()} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__38E1X\",\"SearchForm\":\"SearchBar_SearchForm__3-XDx\",\"SearchForm_button\":\"SearchBar_SearchForm_button__2qB_q\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__309QN\",\"SearchForm_input\":\"SearchBar_SearchForm_input__1kz4n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1uqOI\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2gAVc\"};"],"sourceRoot":""}